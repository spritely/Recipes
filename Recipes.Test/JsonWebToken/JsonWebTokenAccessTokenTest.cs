// --------------------------------------------------------------------------------------------------------------------
// <copyright file="JsonWebTokenAccessTokenTest.cs">
//     Copyright (c) 2016. All rights reserved. Licensed under the MIT license. See LICENSE file in
//     the project root for full license information.
// </copyright>
// <auto-generated>
// Sourced from NuGet package. Will be overwritten with package update except in Spritely.Recipes source.
// </auto-generated>
// --------------------------------------------------------------------------------------------------------------------

namespace Spritely.Recipes.Test
{
    using System;
    using Newtonsoft.Json;
    using NUnit.Framework;
    
    [TestFixture]
    public class JsonWebTokenAccessTokenTest
    {
        [Test]
        public void Constructor_throws_on_null_arguments()
        {
            Assert.Throws<ArgumentNullException>(() => new JsonWebTokenAccessToken(null));
        }

        [Test]
        public void Constructor_reads_access_token_and_sets_properties()
        {
            var token = JsonConvert.DeserializeObject(@"{ ""access_token"": ""access_token"", ""token_type"": ""token_type"", ""expires_in"": 130.5 }");
            var accessToken = new JsonWebTokenAccessToken(token);

            Assert.That(accessToken.AccessToken, Is.EqualTo("access_token"));
            Assert.That(accessToken.TokenType, Is.EqualTo("token_type"));
            Assert.That(accessToken.ExpiresIn, Is.EqualTo(TimeSpan.FromSeconds(130.5)));
        }
    }
}
